/**
 * @file  structs.c
 * @author  @mvmedrados
 * @date  2025-11-17
 * @brief
 * // faça um programa que leia os dados de até dez pessoas 
   // finalizar com o nome "exit"
   // após a fase de cadastro, realizar a impressão
   // ordenar as pessoas cadastradas pelo nome 
 **/

 #include <stdio.h>
 #include <stdlib.h>
 #include <string.h>
 #include <time.h>
	typedef struct{
		char cit[100];
		char rua[100];
		int num;
		char bairro[100];
		} endereco;
	typedef struct{
		char nome[100];
		char cpf[12];
		int idade;
		float peso, altura;
		endereco casa;
		} pessoa;
        int main() {
			pessoa p[10];
			int cont = 0;
			
			// COLETAR DADOS
			for (int i = 0; i < 10; i++){
				printf ("\t==== DADOS PESSOAIS ====\n");
				printf("Digite seu nome ou ""exit"" para finalizar :\n");
				scanf (" %[^\n]s", p[i].nome);
				
			// FINALIZAR QUANDO DIGITAR "EXIT"
				if (strcmp(p[i].nome, "exit") == 0){
					system("clear");
					printf ("Programa finalizado com sucesso!!!\n\n");
					break;
					} 
				
				printf("Digite seu cpf:\n");
				scanf (" %s", p[i].cpf);
				printf("Digite sua idade:\n");
				scanf (" %d", &p[i].idade);
				printf("Digite seu peso:\n");
				scanf (" %f", &p[i].peso);
				printf("Digite seu altura:\n");
				scanf (" %f", &p[i].altura);
				system("clear");
				
				printf ("\t==== ENDEREÇO ====\n");
				printf ("Cidade:\n");
				scanf (" %[^\n]s", p[i].casa.cit);
				printf ("Rua/Avenida:\n");
				scanf (" %[^\n]s", p[i].casa.rua);
				printf ("Número:\n");
				scanf (" %d", &p[i].casa.num);
				printf ("Bairro:\n");
				scanf (" %[^\n]s", p[i].casa.bairro);
				system ("clear");
				cont++;

			}
			
			// ORDENAR OS DADOS COLETADOS
			for (int i = 0; i < cont; i++){
				for (int j = i + 1; j < cont; j++){
					pessoa troca;
					if (strcmp (p[i].nome ,p[j].nome) > 0){
						troca = p[i];
						p[i] = p[j];
						p[j] = troca;
					}
				}
				
			}
			
			// IMPRIMIR DADOS
			for (int i = 0; i < cont; i++){
				printf ("\t====== FICHA DO CANDIDATO %d ======\n", i+1);
				printf("Nome: %s\n",p[i].nome);
				printf("CPF: %s\n",p[i].cpf);
				printf("Idade: %d\n",p[i].idade);
				printf("Peso: %.2f\n",p[i].peso);
				printf("Altura: %.2f\n\n",p[i].altura);
				printf("Cidade: %s\n",p[i].casa.cit);
				printf("Rua/Avenida: %s\n",p[i].casa.rua);
				printf("Número: %d\n",p[i].casa.num);
				printf("Bairro: %s\n",p[i].casa.bairro);
				printf ("\n\n");
			}
        return 0;
    }
